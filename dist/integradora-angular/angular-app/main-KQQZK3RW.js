import{a as h}from"./chunk-5BRVOJ4S.js";import"./chunk-B56ZGRNC.js";import{g as A,h as y,i as b,j,k as u,m as k,n as x}from"./chunk-NGLC2CXL.js";import{Na as C,P as l,U as a,Y as v,ab as I,n as f,o as g,r as s,y as m}from"./chunk-SYTZFNVP.js";var p=(()=>{let o=class o{constructor(e,r){this.router=e,this.auth=r}canActivate(e,r){return this.auth.isauth().pipe(s(n=>n.status===200?!0:(this.router.navigate(["/login"]),!1)),m(n=>(console.error(n),this.router.navigate(["/login"]),f(!1))))}};o.\u0275fac=function(r){return new(r||o)(a(u),a(h))},o.\u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"});let t=o;return t})();var R=(()=>{let o=class o{constructor(e,r){this.router=e,this.auth=r}canActivate(e,r){return this.auth.checkRol().pipe(s(n=>n.body===2?!0:(n.body===1&&this.router.navigate(["/lifeplants/home"]),!1)))}};o.\u0275fac=function(r){return new(r||o)(a(u),a(h))},o.\u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"});let t=o;return t})();var c=(()=>{let o=class o{constructor(e,r){this.router=e,this.auth=r}canActivate(e,r){return this.auth.checkActive().pipe(s(n=>n.body===1?!0:(n.body===0&&(localStorage.removeItem("token"),localStorage.removeItem("userEmail"),this.router.navigate(["/login"])),!1)),m(n=>(console.log(n),this.router.navigate(["/login"]),f(!1))))}};o.\u0275fac=function(r){return new(r||o)(a(u),a(h))},o.\u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"});let t=o;return t})();var S=[{path:"lifeplants",loadComponent:()=>import("./chunk-KKAQLYTR.js").then(t=>t.LoginNavBarComponent),canActivate:[p,c],children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-MV2SJE4X.js").then(t=>t.HomeComponent),canActivate:[p,c]},{path:"plants",loadComponent:()=>import("./chunk-D6NUZRSD.js").then(t=>t.PlantsComponent),canActivate:[p,c]},{path:"plant/:id",loadComponent:()=>import("./chunk-4VCRVNFL.js").then(t=>t.PlantComponent),canActivate:[p,c]},{path:"users",loadComponent:()=>import("./chunk-LDZLXOVR.js").then(t=>t.UsersComponent),canActivate:[p,R,c]},{path:"about",loadComponent:()=>import("./chunk-MHJMMNEB.js").then(t=>t.AboutComponent),canActivate:[p,c]}]},{path:"login",loadComponent:()=>import("./chunk-UBKS5DTH.js").then(t=>t.LoginComponent)},{path:"registro",loadComponent:()=>import("./chunk-77TLWEBO.js").then(t=>t.RegisterComponent)},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"**",loadComponent:()=>import("./chunk-7URG4KWV.js").then(t=>t.NotfoundComponent)}];var M=(t,o)=>{let i=localStorage.getItem("token"),e=t.headers;return i&&(e=e.set("Authorization","Bearer "+i)),e=e.set("Content-Type","application/json"),t=t.clone({headers:e}),console.log(t.headers),o(t)};var F=(t,o)=>o(t).pipe(m(i=>(console.log("Error Code: "+i+" Error Message: "+i.message),i.status===401&&console.log("Error Code: "+i.status+" Error Message: "+i.message),g(i))));var T={providers:[k(S,x()),A(y([M,F]))]};var B=(()=>{let o=class o{constructor(){this.title="IntegradoraAngular"}};o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=v({type:o,selectors:[["app-root"]],standalone:!0,features:[I],decls:1,vars:0,template:function(r,n){r&1&&C(0,"router-outlet")},dependencies:[j]});let t=o;return t})();b(B,T).catch(t=>console.error(t));
