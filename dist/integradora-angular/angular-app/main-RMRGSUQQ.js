import{a as x,b as w,c as a,e as E,f as R}from"./chunk-RHMV3US2.js";import{a as u}from"./chunk-HJVEYBOB.js";import{p as b,q as k}from"./chunk-LYJN6XNL.js";import{Na as j,P as m,U as i,Y as I,ab as y,n as f,o as A,r as c,y as s}from"./chunk-SYTZFNVP.js";var h=(()=>{let o=class o{constructor(e,r){this.router=e,this.auth=r}canActivate(e,r){return this.auth.isauth().pipe(c(n=>n.status===200?!0:(this.router.navigate(["/login"]),!1)),s(n=>(console.error(n),this.router.navigate(["/login"]),f(!1))))}};o.\u0275fac=function(r){return new(r||o)(i(a),i(u))},o.\u0275prov=m({token:o,factory:o.\u0275fac,providedIn:"root"});let t=o;return t})();var F=(()=>{let o=class o{constructor(e,r){this.router=e,this.auth=r}canActivate(e,r){return this.auth.checkRol().pipe(c(n=>n===2?!0:(this.router.navigate(["/lifeplants/home"]),!1)))}};o.\u0275fac=function(r){return new(r||o)(i(a),i(u))},o.\u0275prov=m({token:o,factory:o.\u0275fac,providedIn:"root"});let t=o;return t})();var l=(()=>{let o=class o{constructor(e,r){this.router=e,this.auth=r}canActivate(e,r){return this.auth.checkActive().pipe(c(n=>n===1?!0:(this.router.navigate(["/login"]),!1)),s(n=>(console.error(n),this.router.navigate(["/login"]),f(!1))))}};o.\u0275fac=function(r){return new(r||o)(i(a),i(u))},o.\u0275prov=m({token:o,factory:o.\u0275fac,providedIn:"root"});let t=o;return t})();var C=(()=>{let o=class o{constructor(e,r){this.router=e,this.auth=r}canActivate(e,r){return this.auth.isauth().pipe(c(n=>n.status===200?(this.router.navigate(["/lifeplants/home"]),!1):!0),s(n=>(console.error(n),f(!0))))}};o.\u0275fac=function(r){return new(r||o)(i(a),i(u))},o.\u0275prov=m({token:o,factory:o.\u0275fac,providedIn:"root"});let t=o;return t})();var M=[{path:"lifeplants",loadComponent:()=>import("./chunk-IV5M7KXU.js").then(t=>t.LoginNavBarComponent),canActivate:[l,h],children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-Y37AMRTH.js").then(t=>t.HomeComponent),canActivate:[l,h]},{path:"plants",loadComponent:()=>import("./chunk-XJGKQBJL.js").then(t=>t.PlantsComponent),canActivate:[h,l]},{path:"plant/:id",loadComponent:()=>import("./chunk-EVCMVYRH.js").then(t=>t.PlantComponent),canActivate:[h,l]},{path:"users",loadComponent:()=>import("./chunk-QLEXHKYJ.js").then(t=>t.UsersComponent),canActivate:[h,F,l]},{path:"about",loadComponent:()=>import("./chunk-MHJMMNEB.js").then(t=>t.AboutComponent),canActivate:[h,l]},{path:"perfil",loadComponent:()=>import("./chunk-U3DER3Y6.js").then(t=>t.ProfileComponent),canActivate:[h,l]}]},{path:"login",loadComponent:()=>import("./chunk-TH2SABUT.js").then(t=>t.LoginComponent),canActivate:[C]},{path:"registro",loadComponent:()=>import("./chunk-C3SO2ZOG.js").then(t=>t.RegisterComponent),canActivate:[C]},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"**",loadComponent:()=>import("./chunk-7URG4KWV.js").then(t=>t.NotfoundComponent)}];var S=(t,o)=>{let p=localStorage.getItem("token"),e=t.headers;return p&&(e=e.set("Authorization","Bearer "+p)),e=e.set("Content-Type","application/json"),t=t.clone({headers:e}),console.log(t.headers),o(t)};var T=(t,o)=>o(t).pipe(s(p=>{let e=new a;return console.log("Error Code: "+p+" Error Message: "+p.message),p.status===401&&(console.log("Error Code: "+p.status+" Error Message: "+p.message),e.navigate(["/login"])),A(p)}));var B={providers:[E(M,R()),b(k([S,T]))]};var P=(()=>{let o=class o{constructor(){this.title="IntegradoraAngular"}};o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=I({type:o,selectors:[["app-root"]],standalone:!0,features:[y],decls:1,vars:0,template:function(r,n){r&1&&j(0,"router-outlet")},dependencies:[w]});let t=o;return t})();x(P,B).catch(t=>console.error(t));
